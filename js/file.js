!function(e){function o(){a&&(a.abort(),a=null)}function n(e,n,l){var i=t===e;return i||o(),t=e,r[e]?n(r[e]):e?(i||(a=new XMLHttpRequest),a.onprogress=l,a.onload=function(){n(2===Math.floor(a.status/100)?r[e]=a.response:null)},void(i||(a.onerror=function(){a.onerror=function(){n(null)},a.open("GET","https://cors-proxy.emn178.workers.dev/"+e),a.send()},a.open("GET",e),a.responseType="blob",a.send()))):n(null)}e.ot=e.ot||{};var t,a,r={};if(ot.cancelGetBlob=o,ot.getBlob=n,e.$){$.fn.droppableFile=function(e){var o=!1;o&&(o=!0,$(document.body).on("dragover drop",function(e){return e.preventDefault(),!1})),this.each(function(){var e=$(this),o=e.find("input"),n=e.find(".droppable-zone-text"),t=n.text();e.on("dragover",function(){e.addClass("hover")}),e.on("dragleave",function(){e.removeClass("hover")}),e.on("drop",function(t){e.removeClass("hover");var a=t.originalEvent.dataTransfer.files;o[0].files=a,n.text(a[0].name),e.trigger("droppableFile:change",[a])}),o.change(function(){var a=o[0].files;a[0]?n.text(a[0].name):n.text(t),e.trigger("droppableFile:change",[a])})})},$(".droppable-zone").droppableFile();var l=$("#droppable-zone");if(0!==l.length){var i=$("#file-type"),u=$("#url"),d=$("#output");if(!e.FileReader)return d.text("Your browser does not support."),void $("input").attr("disabled",!0);var f;l.on("droppableFile:change",function(e,o){s=f=o[0],s||d.val(""),ot.autoUpdate()});var p=function(){if("url"===i.val()){d.val("download...");var e=u.val();n(e,function(o){o?(s=o,ot.autoUpdate()):(s=null,d.val(e?"download failed":""))},function(e){var o=(e.total?(e.loaded/e.total*100).toFixed(2):100)+"%";d.val("download..."+o)})}},c=function(){u.off("change",p),u.off("input propertychange",c)};u.on("input propertychange",c),u.on("input propertychange change",p);var v=function(){h&&(h.abort(),h=null)};i.change(function(){d.val(""),"url"===i.val()?(v(),u.show(),l.hide(),s=null,p()):(o(),u.hide(),l.show(),s=f)}),i.change();var s,h;ot.setExecute(function(){if(v(),s){var o=e.PROCESSING_MESSAGE||"hashing...";if(h=new FileReader,method.update){var n=e.FILE_BATCH_SIZE||2097152,t=0,a=s.size,r=method;h.onload=function(e){try{r=r.update(e.target.result),l()}catch(e){d.val(e)}};var l=function(){if(t<a){d.val(o+(t/a*100).toFixed(2)+"%");var e=Math.min(t+n,a);h.readAsArrayBuffer(s.slice(t,e)),t=e}else ot.handleOutput(r.hex())};l()}else d.val(o),h.onload=function(e){try{ot.handleOutput(method(e.target.result))}catch(e){d.val(e)}},h.readAsArrayBuffer(s)}})}}}(window);