!function(){function t(){require.config({paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.50.0/min/vs"}}),require(["vs/editor/editor.main"],function(){$('[data-toggle="monacoEditor"]').monacoEditor(),a.prop("disabled",!1)})}function e(t){var e={};e.automaticLayout=!0,e.theme="1"===localStorage.getItem("DARK")?"vs-dark":"vs",e.minimap={enabled:!1},e.value=t.val(),e.language=t.data("language"),e.readOnly=t.prop("readonly"),this.element=t,this.editorElement=$("<div></div>").attr("class",t.attr("class")).addClass("monaco-editor-wrap").insertAfter(t),this.editor=monaco.editor.create(this.editorElement[0],e),t.addClass("hidden-input"),this.model=this.editor.getModel();var o=this;this.locked=!1,this.model.onDidChangeContent(function(t){o.locked||(o.locked=!0,o.element[0].value=o.model.getValue(),o.element.trigger("input"),o.locked=!1)}),this.element.on("input",function(){o.locked||o.model.setValue(o.element.val())})}var o=ot.createOnDemandScript("https://cdn.jsdelivr.net/npm/monaco-editor@0.50.0/min/vs/loader.js");e.prototype.showPlain=function(){this.element.removeClass("hidden-input"),this.editorElement.hide()},e.prototype.showRich=function(){this.element.addClass("hidden-input"),this.editorElement.show()},$.fn.monacoEditor=function(t){if("string"==typeof t)return void $(this).each(function(){$(this).data("MONACO_EDITOR_KEY")[t]()});$(this).each(function(){var t=$(this);t.data("MONACO_EDITOR_KEY",new e(t))})};var a=$("#pretty-display"),i=localStorage.getItem("MONACO_EDITOR_KEY");a.prop("disabled",!0),a.change(function(){if(1!==o.status)if(a.prop("checked")){if(i=!0,localStorage.setItem("MONACO_EDITOR_KEY","1"),!o.status)return void o.load(t);$('[data-toggle="monacoEditor"]').monacoEditor("showRich")}else i=!1,localStorage.removeItem("MONACO_EDITOR_KEY"),$('[data-toggle="monacoEditor"]').monacoEditor("showPlain")}),i?(a.prop("checked",!0),a.change()):a.prop("disabled",!1),$(".theme").click(function(){2===o.status&&monaco.editor.setTheme("1"===localStorage.getItem("DARK")?"vs-dark":"vs")});var n=$.fn.val;$.fn.val=function(){var t=n.apply(this,arguments),e=this.data("MONACO_EDITOR_KEY");return e&&!e.locked&&arguments.length&&e.model.setValue(n.apply(this,[])),t}}();